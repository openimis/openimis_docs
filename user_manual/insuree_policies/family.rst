Family/Group
^^^^^^^^^^^^

.. contents:: Table of Contents

Find Family
"""""""""""

  Access to the ``Find Family Page`` is restricted to users with the system roles of Accountant, Clerk and Health Facility Receptionist or with a role including an access to Insurees and Families/Family/Enquiry.

Pre-conditions

  Need to enquire on, or edit a family and/or insurees, policies and contributions associated.

Navigation

  Find Family can be found under the main menu ``Insurees and Policies`` sub menu ``Families/Groups``

  .. _image89:
  .. figure:: /img/user_manual/image71.png
    :align: center

    `Navigation – Families - Find Family`

  Clicking on the sub menu ``Families/Groups`` re-directs the current user to the `Find Family Page <#find-family-page>`__\.

  .. _image90:
  .. figure:: /img/user_manual/image72.png
    :align: center

    `Find Families`

  The Find Family Page is the first step in the process of finding of a family and thereafter accessing the `Family Overview Page <#family-overview>`__ of insurees, policies and contributions. This initial page can be used to search for specific families or groups based on specific criteria. The page is divided into two panels (:numref:`image90`):

 #. **Search Criteria Panel**

    The search panel allows a user to select specific criteria to minimise the search results. The following search options are available which can be used alone or in combination with each other.

    * ``Region``

      Select the ``Region``; from the list of regions by clicking on the arrow on the right of the selector to select families/groups from a specific region. *Note: The list will only be filled with the regions assigned to the current logged in user. If this is only one then the region will be automatically selected.*

    * ``District``

      Select the ``District``; from the list of districts by clicking on the arrow on the right of the selector to select families/groups from a specific district. *Note: The list will only be filled with the districts belonging to the selected region and assigned to the current logged in user. If this is only one then the district will be automatically selected.*

    * ``Municipality``

      Select the ``Municipality``; from the list of municipalities by clicking on the arrow on the right of the selector to select families/groups from a specific municipality. *Note: The list will only be filled with the municipalities in the selected district above.*


      Select the ``Village``; from the list of villages by clicking on the arrow on the right of the selector to select families/groups from a specific village. *Note: The list will only be filled with the villages in the selected municipality above.*
    
    * ``Head (/Member) Insuree Insurance Number``

      Type in the beginning of; or the full ``Insurance Number`` to search for families/groups, who’s family/group head (/member) ``Insurance Number``, starts with or matches completely, the typed text.

    * ``Head/Member Insuree Last Name``

      Type in the beginning of; or the full ``Last name``; to search for families/groups, who’s family/group head (/member) ``Last name``, starts with or matches completely, the typed text.

    * ``Head/Member Insuree Other Names``

      Type in the beginning of; or the full ``Other Names`` to search for families/groups, who’s family/group head(/member) ``Other Names`` starts with or matches completely, the typed text.

    * ``Head/Member Insuree Gender``

      Select the ``Gender``; from the list of gender by clicking on the arrow on the right of the selector, to select families/groups, who’s family/group head(/member) is of the specific gender.

    * ``Head/Member Phone Number``

      Type in the beginning of; or the full ``Phone Number`` to search for families/groups, who’s family/group head(/member) ``Phone Number``, starts with or matches completely, the typed number.

    * ``Head/Member Email``

      Type in the beginning of; or the full ``Email`` to search for families/groups, who’s family/group head(/member) ``Email``, starts with or matches completely, the typed number.

    * ``Head/Member Birth Date From``

      Type in a date; or use the Date Selector Button, to enter the ``Birth Date From`` to search for families/groups, who’s family/group head(/member), has the same or later birth date than ``Birth Date From``. *Note. To clear the date entry box; use the mouse to highlight the full date and then press the space key.*

    * ``Head/Member Birth Date To``

      Type in a date; or use the Date Selector Button, to enter the ``Birth Date To`` to search for families/groups, who’s family/group head(/member), has the same or earlier birth date than ``Birth Date To``. *Note. To clear the date entry box; use the mouse to highlight the full date and then press the space key.*

    * ``Poverty Status``

      Select the ``Poverty Status``; from the list of has poverty status by clicking on the arrow on the right of the selector, to select families/groups that have a specific poverty status.

    * ``Confirmation No.``

      Type in the beginning of; or the full ``Confirmation No.`` to search for families/groups, who’s ``Confirmation No.`` starts with or matches completely the typed text.

    * ``Historical``

      Click on ``Historical`` to see historical records matching the selected criteria. Historical records are greyed to clearly define them from current records and no delete action is possible (:numref:`image92`).

      .. _image92:
      .. figure:: /img/user_manual/image73.png
        :align: center

        `Historical records - Result Panel`

    * ``Reset Filter Button``

      To clear the current criteria.

    * ``Search Button``

      To launch the search and filter the records, the results will appear in the Result Panel.

 #. **Result Panel**

    The Result Panel displays a list of all families/groups found, matching the selected criteria in the Search Panel.
    
    Double clicking on a record re-directs the user to the `Family Overview Page <#family-overview>`__ for the Family selected or if it is an historical record then the `Change Family Page <#family-group-page>`__, for detailed viewing.

    Clicking on the trash icon allows user to delete a family (see below).
  
    The result table is paginated, further records can be viewed by navigating through the pages using the page selector at the bottom of the result Panel (:numref:`image94`)

    .. _image94:
    .. figure:: /img/user_manual/image11.png
      :align: center

      `Page selector- Result Panel`

Family/Group Overview
"""""""""""""""""""""

  Access to the `Family Overview Page <#family-overview-page.>`__ is restricted to users with the system role of Accountant or Clerk or with a role including an access to Insurees and Families.

Pre-conditions

  Need to enquire on, or edit a family/group or manage the insurees, policies and contributions associated with it.

Navigation

  `Family Overview Page <#family-overview-page.>`__ cannot be navigated directly to; the first step is to find the family/group by means of using `Find Family Page <#find-family-page>`__, `Find Insuree Page <#Find_Insuree_Page>`__, `Find Policy Page <Find_Policy_Page>`__ or `Find Contribution Page <#Find_contribution_Page>`__. Once a specific family, insuree, policy or contribution is selected by means of selecting the hyperlink in the Result Panel of the respective Find Page, the user is re-directed to the `Family Overview Page <#family-overview-page.>`__.

Family Overview Page
""""""""""""""""""""

  .. _family_overview_page:
  .. figure:: /img/user_manual/family_overview_page.png
    :align: center

    `Image - Family Overview Page`

  The ``Family Overview Page`` is the central point for all operations with regards to the families/groups, Insurees, policies and contributions associated with it. The page is divided into 5 panels (:ref:`Image Family overview <family_overview_page>`)

 #. **Family**  /Group Panel

    The Family/Group Panel provides information about the family including the District, Municipality, Village, the Insurance Number and the Last Name and Other Names of the head of family and Poverty status of the family.

 #. **Insurees Panel**

    The Insurees Panel displays a list of the insurees within the family/group.
    Double clicking on a record re-directs the user to the insuree record for editing or detailed viewing.

    When selecting an insuree in the list, the Policy Panel, will refresh with the policies covering the selected insuree.

    In the Insurees Panel, action buttons allow to add (new or existing - non head- insuree)
    On insuree, one can set it as family head, remove ('detach') insuree from the family/group or delete the insuree.

    When an insuree is removed from the family or deleted, the confirmation dialog gives two options(:ref:`family_image90`):

    * ``Remove/Delete and Cancel Policies``: to remove the insuree from any active policy coverage

    * ``Remove/Delete and Cancel Policies``: to keep any existing policy active for that insuree (untill policy renewal)

    .. _family_image90:
    .. figure:: /img/user_manual/image90.png
      :align: center

      Remove insuree dialog

 #. **Policies Panel**

    The ``Policies Pane`` displays a list of the policies held by the family/group.

    By default only the (last)actives policies are shown. Unchecking ``Show only last active or last expired`` displays the previous policies.

    The ``Add`` action allows to create a new Policy for edited Family.
    
    Double clicking on a record re-directs the user to the policy for editing or detailed viewing.

    Each row also contains ``Delete`` and ``Renew`` actions.

    When selecting a policy in the list, the Contribution Panel, will refresh with the contributions linked to the newly selected policy.

 #. **Contributions Panel**

    The ``Contribution sPanel`` displays a list of contributions of the policy currently selected in the ``Policies Panel``.
    
    Double clicking on a record re-directs the user to the contribution for editing or detailed viewing.

    Each row also contains a ``Delete`` action.

    The ``Add`` action allows to create a new Contribution for edited Family.

    When selecting a contibution in the list, the Payment Panel, will refresh with the payments linked to the newly selected contribution.

 #. **Payments Panel**

    The ``Payments Panel`` displays a list of payments of the contribution currently selected in the ``Contributions Panel``.
    
    Double clicking on a record re-directs the user to the payment for editing or detailed viewing.

    Each row also contains a ``Delete`` action.

    The ``Add`` action allows to create a new Payment for edited Family.

Family/Group Page
"""""""""""""""""

    The Family/Group Page is made of two major section: one for the family/group data itslef, on the the family/group head insuree.

    .. _image123:
    .. figure:: /img/user_manual/image97.png
      :align: center

      `Family/Group Page`

 #. **The Family/Group data section**

    The ``Family/Group`` section is dedicated to show/provide the family/group specific data:

    * ``Region``

      Select from the list of available regions the region, in which the head of family/group permanently stays. *Note: The list will only be filled with the regions assigned to the current logged in user. If this is only one then the region will be automatically selected.* Mandatory.

    * ``District``

      Select from the list of available districts the district, in which the head of family/group permanently stays. *Note: The list will only be filled with the districts belonging to the selected region and assigned to the current logged in user. If this is only one then the district will be automatically selected*. Mandatory.

    * ``Municipality``

      Select from the list of available municipalities the municipality, in which the head of family/group permanently stays. *Note: The list will only be filled with the municipalities belonging to the selected district.* Mandatory.

    * ``Village``

      Select from the list of available villages the village, in which the head of family/group permanently stays. *Note: The list will only be filled with the villages belonging to the selected municipality.* Mandatory.

    * ``Confirmation Type``

      Select the type of a confirmation of the social status of the family/group.

    * ``Confirmation No.``

      Enter alphanumeric identification of the confirmation of the social status of the family/group.

    * ``Group Type``

      Select the type of the group/family.


    * ``Address Details.``

      Enter details of the permanent address of the family/group.

    * ``Poverty Status``

      Select whether the family/group has the poverty status.


 #. **The Head Insuree Details section**

    The ``Head Insuree Details`` section is dedicated to show/provide the family/group head data.

    The ``select existing`` allows to import (use) an existing (non head) insuree as family/group head.

    * ``Insurance Number``

      Enter the insurance number for the head of family/group. Mandatory.

    * ``Last name``

      Enter the last name (surname) for the head of family/group. Mandatory.

    * ``Other Names``

      Enter other names of the head of family/group. Mandatory.

    * ``Birth Date``

        Enter the date of birth for the head of family/group. *Note: You can also use the button next to the birth date field to select a date to be entered.*

    * ``Gender``

      Select from the list of available genders the gender of the head of family/group. Mandatory.

    * ``Marital Status``

      Select from the list of available marital statuses the marital status of the head of family/group.

    * ``Beneficiary Card``

      Select from the list of card whether or not an insurance identification card was issued to the head of family/group.

    * ``Location (Region, District, Municipality, Village)``

      The checkbox indicates wherever or not the insuree has the same location as the Family.

      When unchecked, user has the ability to provide a distinct Region/District/Municipality/Village for the insuree.

    .. _image124:
    .. figure:: /img/user_manual/image124.png
      :align: center

    * ``Current Address Details``

      The checkbox indicates wherever or not the insuree has the same address as the Family.
      When unchecked, user has the ability to provide a distinct Region/District/Municipality/Village for the insuree.

    * ``Phone Number``

      Enter the phone number for the head of family/group.

    * ``Email``

      Enter the e-mail address of the head of family/group.      

    * ``Profession``

      Select the profession of the head of family/group.

    * ``Education``

      Select the education of the head of family/group.

    * ``Identification Type``

      Select the type of the identification document of the head of family/group.

    * ``Identification No.``

      Enter alphanumeric identification of the document of head of family/group.
      
    * ``Photo date``

      The date of the photo for the head of family/group related to his/her insurance number.

    * ``Officer``

      The officer who provided the photo of the head of family/group related to his/her insurance number.

    * ``Avatar``

      Browse to get the photo for the head of family/group related to his/her insurance number.

    * ``Region of FSP``

      Select from the list of available regions the region, in which the chosen primary health facility (First Service Point) of the head of family/group is located.

    * ``District of FSP``

      Select from the list of available districts the district, in which the chosen primary health facility (First Service Point) of the head of family/group is located. *Note: The list will only be filled with the districts belonging to the selected region.*

    * ``Level of FSP``

      Select the level of the chosen primary health facility (First Service Point) of the head of family/group.

    * ``First Service Point``

      Select from the list of available health facilities the chosen primary health facility (First Service Point) of the head of family/group. *Note: The list will only be filled with the health facilities belonging to the selected district which are of the selected level.*

Adding a Family
"""""""""""""""

  A new family can be added using the ``Add Family/Group`` main menu entry or via the "+" fab button in the ``Find Families`` page.

  When the page opens all entry fields are empty. See the `Family/Group Page <#familygroup-page>`__ for information on the data entry and mandatory fields.

Editing a Family/Group
""""""""""""""""""""""

  To edit a Family/Group, double click on the corresponding ``Find Families`` result table record.

Changing a Head of Family/Group
"""""""""""""""""""""""""""""""

  The head of the Family/Group is the main contact associated with a policy. For various reasons it may be necessary to change the head of a family/group.

  You can change the Family/Group head from the `Family Overview Page <#family-overview>`__, in the family insurees section:

  .. _image125:
  .. figure:: /img/user_manual/image125.png
    :align: center

Moving an Insuree
"""""""""""""""""

  Insurees may be moved from one family/group into the edited family. The new insuree must not be a head of family/group in another family/group.

  Use the ``Add existing`` action in the insurees section of the `Family Overview Page <#family-overview>`__ page to do so.

  .. _image126:
  .. figure:: /img/user_manual/image126.png
    :align: center

  A Insuree Search dialog (automatically filtering on non-head insuree) allows the user to find the insuree

  .. _image127:
  .. figure:: /img/user_manual/image127.png
    :align: center

  When selecting an Insuree, the user has two options:

  * ``Move and Cancel Policies``, to cancel the insuree's policy in the family it is issued from

  * ``Move and Keep Policies``, to let current policies active (until policy renewal)

Deleting a Family/Group
"""""""""""""""""""""""

   To delete a Family/Group, click ``Delete`` action in the corresponding ``Find Families`` result table record.

  Before deleting a confirmation popup is displayed, which requires the user to confirm if the action should really be carried out.
  
  The confirmation dialog gives two options: 

      .. figure:: /img/user_manual/image74.png
        :align: center

    * ``Delete Family and Members``: dedicated to also delete any member from that family
    
    * ``Delete Family Only``: family members are 'detached' (and remain without family), but not deleted
    
  When a family is deleted, all records retaining to the deleted family will still be available by selecting historical records.
